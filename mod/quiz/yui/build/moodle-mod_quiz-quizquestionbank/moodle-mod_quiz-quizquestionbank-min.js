YUI.add("moodle-mod_quiz-quizquestionbank",function(e,t){var n={QBANKFORM:"div.questionbankformforpopup",QBANKLINK:"a.questionbank",QBANK:".questionbank"},r={PAGE:"addonpage",HEADER:"header"},i=function(){i.superclass.constructor.apply(this,arguments)};e.extend(i,e.Base,{qbank:e.one(n.QBANK),qbankform:e.one(n.QBANKFORM),qbanklink:e.all(n.QBANKLINK),popup:null,dialogue:function(e,t,r){config={headerContent:e,bodyContent:t,draggable:!0,modal:!0,zIndex:1e3,context:[n.QBANK,"tr","br",["beforeShow"]],centered:!1,width:null,visible:!1,postmethod:"form",footerContent:null,extraClasses:["mod_quiz_qbank_dialogue"]},this.popup={dialog:null},this.popup.dialog=new M.core.dialogue(config),r==="hide"?this.popup.dialog.hide():this.popup.dialog.show()},initializer:function(){var e=this.qbank._node.getAttribute(r.HEADER),t=this.qbankform;this.dialogue(e,t,"hide"),this.qbanklink.each(function(n){var i=n.getAttribute(r.PAGE);e=n.getAttribute(r.HEADER),n.on("click",this.display_dialog,this,e,i,t)},this)},display_dialog:function(e,t,n,r){e.preventDefault(),this.dialogue(t,r,"show"),this.load_content()},load_content:function(){e.io("https://tjh238.vledev2.open.ac.uk/moodle_head/mod/quiz/questionbank.ajax.php?cmid=3",{method:"GET",on:{success:this.load_done,failure:this.save_failed},context:this})},load_done:function(e,t){var n=JSON.parse(t.responseText);if(!n.status||n.status!=="OK"){this.load_failed(e,t);return}this.popup.dialog.bodyNode.setHTML(n.contents),this.popup.dialog.centerDialogue()},load_failed:function(){}}),M.mod_quiz=M.mod_quiz||{},M.mod_quiz.quizquestionbank=M.mod_quiz.quizquestionbank||{},M.mod_quiz.quizquestionbank.init=function(){return new i}},"@VERSION@",{requires:["base","event","node","io"]});
