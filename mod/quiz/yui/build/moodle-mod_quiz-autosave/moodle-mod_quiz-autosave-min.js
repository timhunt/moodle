YUI.add("moodle-mod_quiz-autosave",function(e,t){M.mod_quiz=M.mod_quiz||{},M.mod_quiz.autosave={TYPING_DELAY:1e4,form:null,delay_timeout_handle:null,save_transaction:null,init:function(){this.form=e.one("#responseform");if(!this.form)return;this.form.delegate("valuechange",this.value_changed,"input, textarea",this),this.form.delegate("change",this.value_changed,"input, select",this)},value_changed:function(e){this.cancel_delay();var t=this;this.delay_timeout_handle=setTimeout(function(){t.save_changes(null)},this.TYPING_DELAY)},cancel_delay:function(){this.delay_timeout_handle&&clearTimeout(this.delay_timeout_handle),this.delay_timeout_handle=null},save_changes:function(){this.save_transaction=e.io(M.cfg.wwwroot+"/mod/quiz/autosave.php",{method:"POST",form:{id:this.form},on:{complete:this.save_done},context:this})},save_done:function(){}}},"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate","io-form"]});
