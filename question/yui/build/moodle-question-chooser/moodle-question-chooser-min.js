YUI.add("moodle-question-chooser",function(e,t){function r(){r.superclass.constructor.apply(this,arguments)}var n={CREATENEWQUESTION:"div.createnewquestion",CREATENEWQUESTIONFORM:"div.createnewquestion form",CHOOSERDIALOGUE:"div.chooserdialogue",CHOOSERHEADER:"div.choosertitle"};e.extend(r,M.core.chooserdialogue,{initializer:function(){e.delegate("click",this.displayQuestionChooser,"body",".core_question_add_question_action",this)},displayQuestionChooser:function(t){var r=e.one(n.CREATENEWQUESTION+" "+n.CHOOSERDIALOGUE),i=e.one(n.CREATENEWQUESTION+" "+n.CHOOSERHEADER);this.container===null&&(this.setup_chooser_dialogue(r,i,{}),this.prepare_chooser()),this.dataToHiddenField(t.target,"category"),this.dataToHiddenField(t.target,"cmid"),this.dataToHiddenField(t.target,"courseid"),this.dataToHiddenField(t.target,"returnurl"),this.dataToHiddenField(t.target,"appendqnumstring"),this.dataToHiddenField(t.target,"scrollpos"),this.display_chooser(t)},dataToHiddenField:function(e,t){var n=this.container.one('input[type="hidden"][name="'+t+'"]'),r=e.getData(t);r?(n||(this.container.one("form").append('<input type="hidden" name="'+t+'">'),n=this.container.one('input[type="hidden"][name="'+t+'"]')),n.set("value",r)):n&&n.remove()}},{NAME:"questionChooser"}),M.question=M.question||{},M.question.init_chooser=function(e){return new r(e)}},"@VERSION@",{requires:["moodle-core-chooserdialogue","event-delegate"]});
